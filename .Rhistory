but as O'Neil explains in her book, it is not fair to categorize or
judge humans based on some variables in the dataset.
I found writing code for enabling users to get additional details
about a state reresentative by selecting a particular representative
in the second tab to be challenging. I overcame this challenge by
adding an option to select a representative in the side panel and then
showing details about that representative in the main panel below the
information table. I had to make the choices of the representative
reactive because as the state changed, the representatives changed
too. I did this by updating the selectInput element in the server
function.")
shiny::runApp()
setwd("C:/Users/risha/Desktop/INFO201/a7--rgoyal17")
shiny::runApp()
install.packages(jsonlite)
install.packages("jsonlite")
install.packages("jsonlite")
shiny::runApp()
runApp()
runApp()
lintr:::addin_lint()
lintr:::addin_lint()
lintr:::addin_lint()
lintr:::addin_lint()
shiny::runApp('C:/Users/risha/Desktop/INFO201/INFO-201-Group-Project')
install.packages("shinythemes")
runApp('C:/Users/risha/Desktop/INFO201/INFO-201-Group-Project')
library("dplyr")
library("stringr")
>>>>>>> af5a8c05a2683cea95a781f8249ea9ca687ab9fd
# load in filtered data set
emissions_data <- read.csv(unz("data/filtered_datasets.zip",
"filtered_datasets/emissions_data.csv"))
fuel_economy_data <- read.csv(unz("data/filtered_datasets.zip",
"filtered_datasets/vehicles_individual_data.csv"))
<<<<<<< HEAD
all_cars <- merge(x=emissions_data, y=fuel_economy_data, by=c("Vehicle Manufacturer", "Vehicle Model")) %>%
select(-Number.of.Models.in.Data)
all_cars <- merge(x=emissions_data, y=fuel_economy_data, by=c("Vehicle Manufacturer", "Vehicle Model")) %>%
select(-Number.of.Models.in.Data)
all_brands <- merge(x=brands1,y=brands2,by="Vehicle Manufacturer")
all_cars <- merge(x=emissions_data, y=fuel_economy_data, by=c("Vehicle Manufacturer", "Vehicle Model")) %>%
select(-Number.of.Models.in.Data)
all_brands <- merge(x=brands1,y=brands2,by="Vehicle Manufacturer")
=======
# convert values to upper case
fuel_economy_data$make <- str_to_upper(
fuel_economy_data$make)
fuel_economy_data$model <- str_to_upper(
fuel_economy_data$model)
emissions_data$Represented.Test.Vehicle.Model <- str_to_upper(
emissions_data$Represented.Test.Vehicle.Model)
# rename a few columns
emissions_data <- rename(emissions_data, 'Vehicle Manufacturer' = Represented.Test.Vehicle.Make)
fuel_economy_data <- rename(fuel_economy_data, 'Vehicle Manufacturer' = make)
emissions_data <- rename(emissions_data, 'Vehicle Model' = Represented.Test.Vehicle.Model)
fuel_economy_data <- rename(fuel_economy_data, 'Vehicle Model' = model)
>>>>>>> af5a8c05a2683cea95a781f8249ea9ca687ab9fd
brands1 <- emissions_data %>%
group_by(`Vehicle Manufacturer`) %>%
summarize(average_emission_emitted = sum(Emission_Emitted)/n())
brands2 <- fuel_economy_data %>%
group_by(`Vehicle Manufacturer`) %>%
summarize(`Average city MPG` = sum(Average.city.MPG) / n(),
`Average highway MPG` = sum(Average.highway.MPG) / n(),
`Combined MPG` = sum(Combined.MPG) / n(),
`Annual gas Consumption in Barrels` = sum(Annual.gas.Consumption.in.Barrels) / n(),
`Tailpipe Emissions in g/mi` = sum(Tailpipe.Emissions.in.g.mi) / n(),
`Annual Fuel Cost` = sum(Annual.Fuel.Cost) / n(),
`Cost Savings for Gas over 5 Years` = sum(Cost.Savings.for.Gas.over.5.Years) / n())
all_brands <- merge(x=brands1,y=brands2,by="Vehicle Manufacturer")
all_cars <- merge(x=emissions_data, y=fuel_economy_data, by=c("Vehicle Manufacturer", "Vehicle Model")) %>%
select(-Number.of.Models.in.Data)
<<<<<<< HEAD
fuel_economy_data
=======
# View(emissions_data)
# View(fuel_economy_data)
# View(brands1)
# View(brands2)
# View(all_brands)
# View(all_cars)
# write.csv(all_brands, "data/filtered_datasets/combined_car_brands.csv",
#           row.names = FALSE)
# write.csv(all_cars, "data/filtered_datasets/combined_car_models.csv",
#           row.names = FALSE)
library("dplyr")
library("stringr")
# load in filtered data set
emissions_data <- read.csv(unz("data/filtered_datasets.zip",
"filtered_datasets/emissions_data.csv"))
setwd("C:/Users/risha/Desktop/INFO201/INFO-201-Group-Project")
library("dplyr")
library("stringr")
# load in filtered data set
emissions_data <- read.csv(unz("data/filtered_datasets.zip",
"filtered_datasets/emissions_data.csv"))
fuel_economy_data <- read.csv(unz("data/filtered_datasets.zip",
"filtered_datasets/vehicles_individual_data.csv"))
>>>>>>> af5a8c05a2683cea95a781f8249ea9ca687ab9fd
# convert values to upper case
fuel_economy_data$make <- str_to_upper(
fuel_economy_data$make)
fuel_economy_data$model <- str_to_upper(
fuel_economy_data$model)
emissions_data$Represented.Test.Vehicle.Model <- str_to_upper(
emissions_data$Represented.Test.Vehicle.Model)
# rename a few columns
emissions_data <- rename(emissions_data, 'Vehicle Manufacturer' = Represented.Test.Vehicle.Make)
fuel_economy_data <- rename(fuel_economy_data, 'Vehicle Manufacturer' = make)
emissions_data <- rename(emissions_data, 'Vehicle Model' = Represented.Test.Vehicle.Model)
fuel_economy_data <- rename(fuel_economy_data, 'Vehicle Model' = model)
brands1 <- emissions_data %>%
group_by(`Vehicle Manufacturer`) %>%
summarize(average_emission_emitted = sum(Emission_Emitted)/n())
brands2 <- fuel_economy_data %>%
group_by(`Vehicle Manufacturer`) %>%
summarize(`Average city MPG` = sum(Average.city.MPG) / n(),
`Average highway MPG` = sum(Average.highway.MPG) / n(),
`Combined MPG` = sum(Combined.MPG) / n(),
`Annual gas Consumption in Barrels` = sum(Annual.gas.Consumption.in.Barrels) / n(),
`Tailpipe Emissions in g/mi` = sum(Tailpipe.Emissions.in.g.mi) / n(),
`Annual Fuel Cost` = sum(Annual.Fuel.Cost) / n(),
`Cost Savings for Gas over 5 Years` = sum(Cost.Savings.for.Gas.over.5.Years) / n())
all_brands <- merge(x=brands1,y=brands2,by="Vehicle Manufacturer")
all_cars <- merge(x=emissions_data, y=fuel_economy_data, by=c("Vehicle Manufacturer", "Vehicle Model")) %>%
select(-Number.of.Models.in.Data)
<<<<<<< HEAD
mean(all_cars[["Average.city.MPG"]])
averages <- as.vector(lapply(all_cars[3:10], mean), mode = "numeric")
#graph_ranking <- function(car_model) {
data <- all_cars %>%
filter(`Vehicle Model` == "ILX")
data <- data[3:10] - averages
columns <- colnames(data)[3:10]
color_map <- c()
for (x in colnames(data)) {
#print(data[[x]])
if(data[[x]] < 0) {
color_map[x] <- c("Data" = "blue")
} else {
color_map[x] <- c("Data" = "red")
}
}
View(color_map)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = num,
text = round(num, 1),
textposition = "auto",
marker = list(color = color_map[data]),
name = 'expenses'
)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = data,
text = round(num, 1),
textposition = "auto",
marker = list(color = color_map[data]),
name = 'expenses'
)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = data,
text = round(data, 1),
textposition = "auto",
marker = list(color = color_map[data]),
name = 'expenses'
)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = as.vector(data, type = "numeric"),
text = round(data, 1),
textposition = "auto",
marker = list(color = color_map[data]),
name = 'expenses'
)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = as.vector(data, "numeric"),
text = round(data, 1),
textposition = "auto",
marker = list(color = color_map[data]),
name = 'expenses'
)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = as.vector(data, "numeric"),
text = round(data, 1),
textposition = "auto",
marker = list(color = color_map[as.vector(data, "numeric")]),
name = 'expenses'
)
plot_ly() %>%
add_bars(
x = columns,
y = as.vector(data, "numeric"),
text = round(data, 1),
textposition = "auto",
marker = list(color = color_map[columns]),
name = 'expenses'
)
plot_ly() %>%
add_bars(
x = columns,
y = as.vector(data, "numeric"),
text = round(data, 1),
textposition = "auto",
marker = list(color = color_map[columns])
)
plot_ly() %>%
add_bars(
x = columns,
y = as.vector(data, "numeric"),
text = round(as.vector(data, "numeric"), 1),
textposition = "auto",
marker = list(color = color_map[columns])
)
#graph_ranking <- function(car_model) {
data <- all_cars %>%
filter(`Vehicle Model` == "ILX")
data <- data[3:10] - averages
columns <- colnames(data)[3:10]
plot_ly() %>%
add_bars(
x = columns,
y = as.vector(data, "numeric"),
text = round(as.vector(data, "numeric"), 1),
textposition = "auto",
marker = list(color = color_map[columns])
)
View(data)
data <- data[3:10] - averages
#graph_ranking <- function(car_model) {
data <- all_cars %>%
filter(`Vehicle Model` == "ILX")
data <- data[3:10] - averages
View(data)
columns <- colnames(data)[3:10]
plot_ly() %>%
add_bars(
x = columns,
y = as.vector(data, "numeric"),
text = round(as.vector(data, "numeric"), 1),
textposition = "auto",
marker = list(color = color_map[columns])
)
plot_ly() %>%
add_bars(
x = columns,
y = data,
marker = list(color = color_map[columns])
)
plot_ly() %>%
add_bars(
x = columns,
y = data,
textposition = "auto",
marker = list(color = color_map[columns])
)
plot_ly() %>%
add_bars(
x = columns,
y = data,
text = round(as.vector(data, "numeric"), 1),
textposition = "auto",
marker = list(color = color_map[columns])
)
plot_ly() %>%
add_bars(
x = columns,
y = as.vector(data, "numeric"),
marker = list(color = color_map[columns])
)
View(data)
plot_ly() %>%
add_bars(
x = columns,
y = as.vector(data, mode = "numeric"),
marker = list(color = color_map[columns])
)
View(data)
plot_ly() %>%
add_bars(
x = columns,
y = as.vector(data, mode = "numeric")
)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = as.vector(data, mode = "numeric"),
marker = list(color = color_map[colnames(data)[3:10]])
)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = as.vector(data, mode = "numeric"),
marker = list(color = "red")
)
#graph_ranking <- function(car_model) {
data <- all_cars %>%
filter(`Vehicle Model` == "ILX")
data <- data[3:10] - averages
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = as.vector(data, mode = "numeric"),
marker = list(color = "red")
)
View(data)
plot_ly() %>%
add_bars(
x = colnames(data)[3:10],
y = as.vector(data, mode = "numeric"),
marker = list(color = color_map[colnames(data)[3:10]])
)
=======
# View(emissions_data)
# View(fuel_economy_data)
# View(brands1)
# View(brands2)
# View(all_brands)
# View(all_cars)
# write.csv(all_brands, "data/filtered_datasets/combined_car_brands.csv",
#           row.names = FALSE)
# write.csv(all_cars, "data/filtered_datasets/combined_car_models.csv",
#           row.names = FALSE)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
>>>>>>> af5a8c05a2683cea95a781f8249ea9ca687ab9fd
shiny::runApp()
runApp()
library(plotly)
library(shinythemes)
# create UI
my_ui <- fluidPage(theme = shinytheme("flatly"),
# Create tabs to navigate different sections of our project
navbarPage("Green Car Research Project",
intro_page,
visual_page,
search_page,
closing_page,
about_page
)
)
# Introduction to our project and our research questions
intro_page <- tabPanel("Introduction",
h3("Introduction:"),
p("Nearly 50% of Americans live in areas that don't meet federal air
quality standards. Passenger vehicles are one of the major sources
of air pollution, producing significant amounts of harmful pollutants
such as nitrogen oxides and carbon monoxide. These pollutants
contribute towards serious health related problems."),
p("Our project aims to spread awareness about how much pollutants are
produced by vehicles in America by every major vehicle manufacturing
company. We are using large and reliable datasets for our project
which will enable us to analyze and provide this information. We hope
to persuade people to buy more eco-friendly and fuel efficient
vehicles."),
h3("Research Questions:"),
p("- Which car manufacturer makes the most
'eco-friendly' cars, as in which of these
manufacturere does the least harm to the
environment through their cars?"),
p("- Which car manufacturers make the most
fuel-efficient cars, and can run the furthest
on a single gallon of gasoline?"),
)
# Create a tab which holds our interactive visualizations
visual_page <- tabPanel("Visualizations",
h2("Fuel Economy Visualiztion"),
sidebarLayout(
sidebarPanel(
selectInput(
inputId = "viz_type",
label = h3("Types of MPG"),
choices = c("city", "highway"),
selected = "city")),
mainPanel(
plotlyOutput(outputId = "fuel_econ_plot"))
),
h2("Carbon Monoxide (CO) Emissions Visualization"),
plotOutput(outputId = "emissions_graph")
)
# Create a tab where users can search by car
# manufacturer and see their average emissions
search_page <- tabPanel("Search",
sidebarLayout(
sidebarPanel(
selectInput("car_brand",
label = h3("Select Car Brand"),
choices = all_cars$`Vehicle Manufacturer`,
selected = "Acura"),
br(), br(), br(), br(), br(), br(), br(), br(), br(), br(), br(),
selectInput("car_model",
label = h3("Select Car Model of the Selected Brand"),
choices = "")
),
mainPanel(
h3(textOutput(outputId = "description_brand")),
tableOutput(outputId = "brand_info_table"),
br(),
h3(textOutput(outputId = "description_model")),
tableOutput(outputId = "car_info_table"),
br()
)
),
plotlyOutput(outputId = "car_ranking")
)
# Create a tab where our conclusion can be seen
closing_page <- tabPanel("Conclusion",
h3("Conclusion"),
p("It is noticed that car brands such as Tesla, CODA Automotive, and
BYD, are the car manufacturers which make the most eco-friendly and
fuel efficient cars. We think this is because these car brands
mostly produce electric and hybrid cars which require some or no
fuel. Technological advancement has now made it possible to produce
more eco friendly cars which consume very less fuel, and more and
more car manufacturers are moving towards manufacturing such
cars."),
p("As seen in the CO emissions plot, Mosler, MV, and Hummer are the
top 3 polluting car manufacturers, while Tesla would be the most
environmentally friendly car brand in the list. By selecting the
data from search part, we found a trend that many car brands are
continually updating. For example, the 2004 BMW emitted 1.6 CO (g/ml)
while the 2010 BMW only emitted 0.36 CO. This number dramatically
decrease within six years, which means that some car manufacturers
did pay attention to the pollution issue and aim to improve the
engines with the latest technology. For the fuel economy plot,
Tesla, CODA Automative, and BYD are the top brands who make the
most fuel efficient cars."),
)
# Create a tab explaining our team / resources
about_page <- tabPanel("About",
h3("About Us"),
"Team #6",
br(),
"Brian Darmitzel, Rishabh Goyal, Xiying Huang, Shray Arora",
br(),
"INFO-201A: Techinical Foudations for Informatics",
br(),
"The Information School",
br(),
"University of Washington",
br(),
"Autumn 2019",
h3("Link to the Technical Report"),
a("Technical Report",
href = "https://github.com/BrianDarmitzel/INFO-201-Group-Project/wiki/INFO-201-GROUP-PROJECT-TECHNICAL-REPORT"),
h3("Github Repository"),
a("Our Github Repository",
href = "https://github.com/BrianDarmitzel/INFO-201-Group-Project")
)
runApp()
# create UI
my_ui <- fluidPage(theme = shinytheme("flatly"),
# Create tabs to navigate different sections of our project
navbarPage("Green Car Research Project",
intro_page,
visual_page,
search_page,
closing_page,
about_page
)
)
runApp()
runApp()
runApp()
# create a dataframe for the graph
graph_df <- all_cars %>%
group_by(`Vehicle Manufacturer`) %>%
summarize(avg_emission = sum(Emission_Emitted) / n())
# create a dataframe for the graph
View(all_cars)
# create a dataframe for the graph
graph_df <- all_cars %>%
group_by(`Vehicle Manufacturer`) %>%
summarize(avg_emission = sum(`Average Emissions Emitted`) / n())
View(graph_df)
runApp()
source("combined_data.R")
source("combine_data.R")
View(all_cars)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
library(shinyWidgets)
install.packages("shinyWidgets")
library(shinyWidgets)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
